#!/bin/bash
# postinst script for cattywampus
# This script runs after the package is installed

set -e

# Source debconf library
. /usr/share/debconf/confmodule

case "$1" in
    configure)
        echo "cattywampus installation completed successfully!"
        echo "The 'cattywampus' command is now available in your PATH."
        echo ""
        echo "Configuration:"
        echo "  - Default configuration example: /usr/share/cattywampus/config.example.toml"
        echo "  - User configuration will be created automatically in ~/.local/share/cattywampus/"
        echo "    when you first run the application"
        echo ""
        echo "External dependencies:"
        echo "  - mkvtoolnix (for MKV files) - should be installed automatically"
        echo "  - atomicparsley (for MP4/M4V files) - should be installed automatically"
        echo ""
        echo "Run 'cattywampus --help' to get started!"
        ;;
        
    abort-upgrade|abort-remove|abort-deconfigure)
        ;;
        
    *)
        echo "postinst called with unknown argument \`$1'" >&2
        exit 1
        ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.


# Automatically added by dh_python3
if command -v py3compile >/dev/null 2>&1; then
	py3compile -p cattywampus 
fi
if command -v pypy3compile >/dev/null 2>&1; then
	pypy3compile -p cattywampus  || true
fi

# End automatically added section


exit 0